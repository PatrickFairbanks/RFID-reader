<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>sxc-lib: SFU.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sxc-lib
   &#160;<span id="projectnumber">1.0b</span>
   </div>
   <div id="projectbrief">SXC C Hardware Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SFU.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>SFU instruction interface. SFU instructions are fast, hardware- implemented mathematical operations of some potential use. Functions are thread-safe.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_s_x_c_8h_source.html">SXC.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="register__consts_8h_source.html">register_consts.h</a>&quot;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
</div>
<p><a href="_s_f_u_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae02187a43e590ad3b7b1ebc939d9f11c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#ae02187a43e590ad3b7b1ebc939d9f11c">sfu_pack_bits</a> (uint16_t input)</td></tr>
<tr class="memdesc:ae02187a43e590ad3b7b1ebc939d9f11c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packs the bits of the lower byte of the input as described by the mask in the upper byte of the input. See details, or XInC2 manual for more.  <a href="#ae02187a43e590ad3b7b1ebc939d9f11c">More...</a><br /></td></tr>
<tr class="separator:ae02187a43e590ad3b7b1ebc939d9f11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c0f99ba892c6009a3c678295a47c89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#ab3c0f99ba892c6009a3c678295a47c89">sfu_least_significant_one</a> (uint16_t input)</td></tr>
<tr class="memdesc:ab3c0f99ba892c6009a3c678295a47c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bit position of the least significant bit set to 1 is returned as a 4-bit integer in the rightmost bits of the return value. If no bit of input is set to 1, the leftmost bit (15) of the return value is set to 1. (zero flag).  <a href="#ab3c0f99ba892c6009a3c678295a47c89">More...</a><br /></td></tr>
<tr class="separator:ab3c0f99ba892c6009a3c678295a47c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02aa6a32bc9413aac8c5c49cb58737b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#a02aa6a32bc9413aac8c5c49cb58737b1">sfu_pop_count</a> (uint16_t input)</td></tr>
<tr class="memdesc:a02aa6a32bc9413aac8c5c49cb58737b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bits set to 1 in input. Value is returned as a 5-bit integer in the rightmost bits of the SFUpop register.  <a href="#a02aa6a32bc9413aac8c5c49cb58737b1">More...</a><br /></td></tr>
<tr class="separator:a02aa6a32bc9413aac8c5c49cb58737b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ea9f2ec3db4c0d0770b6473727d321"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#a26ea9f2ec3db4c0d0770b6473727d321">sfu_reverse_bits</a> (uint16_t input)</td></tr>
<tr class="memdesc:a26ea9f2ec3db4c0d0770b6473727d321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bitwise-reversed value of input, and writes it to the SFUrev register.  <a href="#a26ea9f2ec3db4c0d0770b6473727d321">More...</a><br /></td></tr>
<tr class="separator:a26ea9f2ec3db4c0d0770b6473727d321"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acf02f4d40e5024eddc736793646b1315"><td class="memItemLeft" align="right" valign="top">static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#acf02f4d40e5024eddc736793646b1315">SFUpack_lock</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>
<tr class="separator:acf02f4d40e5024eddc736793646b1315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a616547131a543a37e91e2737deed1ea0"><td class="memItemLeft" align="right" valign="top">static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#a616547131a543a37e91e2737deed1ea0">SFUrev_lock</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>
<tr class="separator:a616547131a543a37e91e2737deed1ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db7aefa493a25838ce328862d9e133e"><td class="memItemLeft" align="right" valign="top">static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#a4db7aefa493a25838ce328862d9e133e">SFUpop_lock</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>
<tr class="separator:a4db7aefa493a25838ce328862d9e133e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cd7f7464691b760a81437841c49fdd"><td class="memItemLeft" align="right" valign="top">static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_f_u_8h.html#a11cd7f7464691b760a81437841c49fdd">SFUls1_lock</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>
<tr class="separator:a11cd7f7464691b760a81437841c49fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SFU instruction interface. SFU instructions are fast, hardware- implemented mathematical operations of some potential use. Functions are thread-safe. </p>

<p>Definition in file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab3c0f99ba892c6009a3c678295a47c89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t sfu_least_significant_one </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The bit position of the least significant bit set to 1 is returned as a 4-bit integer in the rightmost bits of the return value. If no bit of input is set to 1, the leftmost bit (15) of the return value is set to 1. (zero flag). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>an arbitrary 16-bit number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The 4-bit integer representing the first bit set to 1 in input. If input is 0, returns 0x8000. </dd></dl>

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00086">86</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>References <a class="el" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>, <a class="el" href="register__consts_8h_source.html#l00041">SFUls1</a>, and <a class="el" href="_s_f_u_8h_source.html#l00022">SFUls1_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#ifndef __XINC2__</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  pthread_mutex_lock(&amp;<a class="code" href="_s_f_u_8h.html#a11cd7f7464691b760a81437841c49fdd">SFUls1_lock</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#a2e945f3979c55020adc22a7dc9577736">SFUls1</a>] = input;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  uint16_t result;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (!input)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    result = (1 &lt;&lt; (16-1));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;     uint16_t i;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">for</span> (i=0; !(input &amp; 0x1); input &gt;&gt;= 1) <span class="comment">//while bit[i] == 0</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      ++i;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    result = i;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#a2e945f3979c55020adc22a7dc9577736">SFUls1</a>] = result;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  pthread_mutex_unlock(&amp;<a class="code" href="_s_f_u_8h.html#a11cd7f7464691b760a81437841c49fdd">SFUls1_lock</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  _outp(input, <a class="code" href="register__consts_8h.html#a2e945f3979c55020adc22a7dc9577736">SFUls1</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">return</span> _inp(<a class="code" href="register__consts_8h.html#a2e945f3979c55020adc22a7dc9577736">SFUls1</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="ttc" id="_s_f_u_8h_html_a11cd7f7464691b760a81437841c49fdd"><div class="ttname"><a href="_s_f_u_8h.html#a11cd7f7464691b760a81437841c49fdd">SFUls1_lock</a></div><div class="ttdeci">static pthread_mutex_t SFUls1_lock</div><div class="ttdef"><b>Definition:</b> <a href="_s_f_u_8h_source.html#l00022">SFU.h:22</a></div></div>
<div class="ttc" id="register__consts_8h_html_a2e945f3979c55020adc22a7dc9577736"><div class="ttname"><a href="register__consts_8h.html#a2e945f3979c55020adc22a7dc9577736">SFUls1</a></div><div class="ttdeci">const uint16_t SFUls1</div><div class="ttdef"><b>Definition:</b> <a href="register__consts_8h_source.html#l00041">register_consts.h:41</a></div></div>
<div class="ttc" id="_s_x_c_8h_html_a5ca05db16d6022812012c040c7e7d4a8"><div class="ttname"><a href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a></div><div class="ttdeci">uint16_t mock_mem_map[kNumPorts]</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae02187a43e590ad3b7b1ebc939d9f11c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t sfu_pack_bits </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packs the bits of the lower byte of the input as described by the mask in the upper byte of the input. See details, or XInC2 manual for more. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>an arbitrary 16-bit number</td></tr>
  </table>
  </dd>
</dl>
<p>The 8-bit mask in the upper byte determines which bits to select from the 8-bit value in the lower byte for the output. Only value bits whose positions align with bits set to 1 in the mask are selected. These bits are then packed, right-aligned, into as many bits as there were '1's in the mask. </p><dl class="section return"><dt>Returns</dt><dd>The mask-selected bits of the lower byte, packed right-aligned. All other bits are set to 0. </dd></dl>

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00052">52</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>References <a class="el" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>, <a class="el" href="register__consts_8h_source.html#l00041">SFUpack</a>, and <a class="el" href="_s_f_u_8h_source.html#l00019">SFUpack_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#ifndef __XINC2__</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  pthread_mutex_lock(&amp;<a class="code" href="_s_f_u_8h.html#acf02f4d40e5024eddc736793646b1315">SFUpack_lock</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#ac7d85c2acf023f0e20804ea3350e68b5">SFUpack</a>] = input;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  uint16_t mask = (input &amp; 0xFF00) &gt;&gt; 8;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  uint16_t val = input &amp; 0x00FF;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  uint16_t result = 0;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   uint16_t i;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">for</span> (i=0; mask; mask &gt;&gt;= 1) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (mask &amp; 0x1) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      result |= ((val &amp; 0x1) &lt;&lt; i);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      ++i;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    val &gt;&gt;= 1;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#ac7d85c2acf023f0e20804ea3350e68b5">SFUpack</a>] = result;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  pthread_mutex_unlock(&amp;<a class="code" href="_s_f_u_8h.html#acf02f4d40e5024eddc736793646b1315">SFUpack_lock</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  _outp(input, <a class="code" href="register__consts_8h.html#ac7d85c2acf023f0e20804ea3350e68b5">SFUpack</a>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">return</span> _inp(<a class="code" href="register__consts_8h.html#ac7d85c2acf023f0e20804ea3350e68b5">SFUpack</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="_s_f_u_8h_html_acf02f4d40e5024eddc736793646b1315"><div class="ttname"><a href="_s_f_u_8h.html#acf02f4d40e5024eddc736793646b1315">SFUpack_lock</a></div><div class="ttdeci">static pthread_mutex_t SFUpack_lock</div><div class="ttdef"><b>Definition:</b> <a href="_s_f_u_8h_source.html#l00019">SFU.h:19</a></div></div>
<div class="ttc" id="_s_x_c_8h_html_a5ca05db16d6022812012c040c7e7d4a8"><div class="ttname"><a href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a></div><div class="ttdeci">uint16_t mock_mem_map[kNumPorts]</div></div>
<div class="ttc" id="register__consts_8h_html_ac7d85c2acf023f0e20804ea3350e68b5"><div class="ttname"><a href="register__consts_8h.html#ac7d85c2acf023f0e20804ea3350e68b5">SFUpack</a></div><div class="ttdeci">const uint16_t SFUpack</div><div class="ttdef"><b>Definition:</b> <a href="register__consts_8h_source.html#l00041">register_consts.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02aa6a32bc9413aac8c5c49cb58737b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t sfu_pop_count </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of bits set to 1 in input. Value is returned as a 5-bit integer in the rightmost bits of the SFUpop register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>an arbitrary 16-bit number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The 5-bit integer representing the number of bits set to 1 in input. </dd></dl>

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00115">115</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>References <a class="el" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>, <a class="el" href="register__consts_8h_source.html#l00041">SFUpop</a>, and <a class="el" href="_s_f_u_8h_source.html#l00021">SFUpop_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#ifndef __XINC2__</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  pthread_mutex_lock(&amp;<a class="code" href="_s_f_u_8h.html#a4db7aefa493a25838ce328862d9e133e">SFUpop_lock</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#a30ca0bca3765a5d34caeb9686225dd22">SFUpop</a>] = input;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  uint16_t result;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">for</span> (result = 0; input; input &gt;&gt;= 1)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    result += (input &amp; 0x1);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#a30ca0bca3765a5d34caeb9686225dd22">SFUpop</a>] = result;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  pthread_mutex_unlock(&amp;<a class="code" href="_s_f_u_8h.html#a4db7aefa493a25838ce328862d9e133e">SFUpop_lock</a>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  _outp(input, <a class="code" href="register__consts_8h.html#a30ca0bca3765a5d34caeb9686225dd22">SFUpop</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">return</span> _inp(<a class="code" href="register__consts_8h.html#a30ca0bca3765a5d34caeb9686225dd22">SFUpop</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="register__consts_8h_html_a30ca0bca3765a5d34caeb9686225dd22"><div class="ttname"><a href="register__consts_8h.html#a30ca0bca3765a5d34caeb9686225dd22">SFUpop</a></div><div class="ttdeci">const uint16_t SFUpop</div><div class="ttdef"><b>Definition:</b> <a href="register__consts_8h_source.html#l00041">register_consts.h:41</a></div></div>
<div class="ttc" id="_s_f_u_8h_html_a4db7aefa493a25838ce328862d9e133e"><div class="ttname"><a href="_s_f_u_8h.html#a4db7aefa493a25838ce328862d9e133e">SFUpop_lock</a></div><div class="ttdeci">static pthread_mutex_t SFUpop_lock</div><div class="ttdef"><b>Definition:</b> <a href="_s_f_u_8h_source.html#l00021">SFU.h:21</a></div></div>
<div class="ttc" id="_s_x_c_8h_html_a5ca05db16d6022812012c040c7e7d4a8"><div class="ttname"><a href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a></div><div class="ttdeci">uint16_t mock_mem_map[kNumPorts]</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26ea9f2ec3db4c0d0770b6473727d321"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_____macros_8h.html#a5f2c177a3f6265906a381c636e399bfe">SXC_INLINE</a> uint16_t sfu_reverse_bits </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the bitwise-reversed value of input, and writes it to the SFUrev register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>an arbitrary 16-bit number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The input number, bitwise-reversed. </dd></dl>

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00138">138</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>References <a class="el" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>, <a class="el" href="register__consts_8h_source.html#l00041">SFUrev</a>, and <a class="el" href="_s_f_u_8h_source.html#l00020">SFUrev_lock</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#ifndef __XINC2__</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  pthread_mutex_lock(&amp;<a class="code" href="_s_f_u_8h.html#a616547131a543a37e91e2737deed1ea0">SFUrev_lock</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#a4a690569c3cd395467e7c37075061648">SFUrev</a>] = input;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  uint16_t result = input; <span class="comment">//Start with output MSB(after shifts)=input LSB</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  uint16_t post_shifts = 16-1;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">for</span> (input &gt;&gt;= 1; input; input &gt;&gt;=1) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    result &lt;&lt;= 1;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    result |= (input &amp; 0x1);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    post_shifts--;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  result &lt;&lt;= post_shifts;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a>[<a class="code" href="register__consts_8h.html#a4a690569c3cd395467e7c37075061648">SFUrev</a>] = result;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  pthread_mutex_unlock(&amp;<a class="code" href="_s_f_u_8h.html#a616547131a543a37e91e2737deed1ea0">SFUrev_lock</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  _outp(input, <a class="code" href="register__consts_8h.html#a4a690569c3cd395467e7c37075061648">SFUrev</a>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> _inp(<a class="code" href="register__consts_8h.html#a4a690569c3cd395467e7c37075061648">SFUrev</a>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="ttc" id="_s_f_u_8h_html_a616547131a543a37e91e2737deed1ea0"><div class="ttname"><a href="_s_f_u_8h.html#a616547131a543a37e91e2737deed1ea0">SFUrev_lock</a></div><div class="ttdeci">static pthread_mutex_t SFUrev_lock</div><div class="ttdef"><b>Definition:</b> <a href="_s_f_u_8h_source.html#l00020">SFU.h:20</a></div></div>
<div class="ttc" id="_s_x_c_8h_html_a5ca05db16d6022812012c040c7e7d4a8"><div class="ttname"><a href="_s_x_c_8h.html#a5ca05db16d6022812012c040c7e7d4a8">mock_mem_map</a></div><div class="ttdeci">uint16_t mock_mem_map[kNumPorts]</div></div>
<div class="ttc" id="register__consts_8h_html_a4a690569c3cd395467e7c37075061648"><div class="ttname"><a href="register__consts_8h.html#a4a690569c3cd395467e7c37075061648">SFUrev</a></div><div class="ttdeci">const uint16_t SFUrev</div><div class="ttdef"><b>Definition:</b> <a href="register__consts_8h_source.html#l00041">register_consts.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a11cd7f7464691b760a81437841c49fdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t SFUls1_lock = PTHREAD_MUTEX_INITIALIZER</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00022">22</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>Referenced by <a class="el" href="_s_f_u_8h_source.html#l00086">sfu_least_significant_one()</a>.</p>

</div>
</div>
<a class="anchor" id="acf02f4d40e5024eddc736793646b1315"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t SFUpack_lock = PTHREAD_MUTEX_INITIALIZER</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00019">19</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>Referenced by <a class="el" href="_s_f_u_8h_source.html#l00052">sfu_pack_bits()</a>.</p>

</div>
</div>
<a class="anchor" id="a4db7aefa493a25838ce328862d9e133e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t SFUpop_lock = PTHREAD_MUTEX_INITIALIZER</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00021">21</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>Referenced by <a class="el" href="_s_f_u_8h_source.html#l00115">sfu_pop_count()</a>.</p>

</div>
</div>
<a class="anchor" id="a616547131a543a37e91e2737deed1ea0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t SFUrev_lock = PTHREAD_MUTEX_INITIALIZER</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_s_f_u_8h_source.html#l00020">20</a> of file <a class="el" href="_s_f_u_8h_source.html">SFU.h</a>.</p>

<p>Referenced by <a class="el" href="_s_f_u_8h_source.html#l00138">sfu_reverse_bits()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 2 2015 14:17:17 for sxc-lib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
